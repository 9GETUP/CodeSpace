# 进程 vs 线程
- 进程？CPU运行指令和保存上下文所需要的时间
浏览器上每开一个tab页就是一个进程，浏览器上是多进程的
对于cpu来说，进程就是一个时间片段

- 线程：一个进程可以包含多个线程工作
        也称进程中更小的单位，描述了 一段 指令执行所需的时间

# js引擎线程与GPU渲染线程不能同时运行，互斥的。
    因为js也能修改dom结构，不安全的渲染。
新开一个tab页面，就是新开一个进程。
然后需要多个线程配合才能完成页面的展示
1. 渲染线程（GPU）
2. http请求线程
3. js引擎线程

# JS 是单线程语言
看见同步往下走，看见异步先不执行。
为什么？减少js对设备性能的开销
优点：
1. 节省内存
2. 单线程没有锁的概念，
   节约上下文切换的时间（从一行代码突然切换到另一行行代码）

# 异步代码：两种
- 宏任务（macrotask 宏任务队列来保存）：
script 标签
setTimeout
setInterval
setImmediate
I/O ：输入输出，例如点击事件中的交互
UI-rendering

- 微任务 (microtask 微任务队列来保存)
promise.then()
MutationObserver()
Process.nextTick()

# event-loop （事件循环机制）v8执行规则：
作用：去很好的应付异步和同步代码
# 同步代码也属于宏任务

- 循环机制步骤：
1. 执行同步代码（这属于宏任务）
2. 当执行栈为空后，去查询是否有异步代码需要执行
3. 有则执行微任务
4. 如果有需要，会渲染页面
5. 执行宏任务（这也叫下一轮event-loop的开启）
